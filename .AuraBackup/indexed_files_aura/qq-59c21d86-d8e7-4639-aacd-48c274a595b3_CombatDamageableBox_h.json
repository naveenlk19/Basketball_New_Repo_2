{"file_path": "Source/BasketBallGame/Variant_Combat/Gameplay/CombatDamageableBox.h", "file_id": "Source_BasketBallGame_Variant_Combat_Gameplay_CombatDamageableBox_h", "asset_path": "", "doc_id": "qq-59c21d86-d8e7-4639-aacd-48c274a595b3", "referencers": [], "dependencies": [], "content": "// Copyright Epic Games, Inc. All Rights Reserved.\n\n#pragma once\n\n#include \"CoreMinimal.h\"\n#include \"GameFramework/Actor.h\"\n#include \"CombatDamageable.h\"\n#include \"CombatDamageableBox.generated.h\"\n\n/**\n *  A simple physics box that reacts to damage through the ICombatDamageable interface\n */\nUCLASS(abstract)\nclass ACombatDamageableBox : public AActor, public ICombatDamageable\n{\n\tGENERATED_BODY()\n\t\n\t/** Damageable box mesh */\n\tUPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = \"Components\", meta = (AllowPrivateAccess = \"true\"))\n\tUStaticMeshComponent* Mesh;\n\npublic:\t\n\n\t/** Constructor */\n\tACombatDamageableBox();\n\nprotected:\n\n\t/** Amount of HP this box starts with. */\n\tUPROPERTY(EditAnywhere, Category=\"Damage\")\n\tfloat CurrentHP = 3.0f;\n\n\t/** Time to wait before we remove this box from the level. */\n\tUPROPERTY(EditAnywhere, Category=\"Damage\", meta = (ClampMin = 0, ClampMax = 10, Units = \"s\"))\n\tfloat DeathDelayTime = 6.0f;\n\n\t/** Timer to defer destruction of this box after its HP are depleted */\n\tFTimerHandle DeathTimer;\n\n\t/** Blueprint damage handler for effect playback */\n\tUFUNCTION(BlueprintImplementableEvent, Category=\"Damage\")\n\tvoid OnBoxDamaged(const FVector& DamageLocation, const FVector& DamageImpulse);\n\n\t/** Blueprint destruction handler for effect playback */\n\tUFUNCTION(BlueprintImplementableEvent, Category=\"Damage\")\n\tvoid OnBoxDestroyed();\n\n\t/** Timer callback to remove the box from the level after it dies */\n\tvoid RemoveFromLevel();\n\npublic:\n\n\t/** EndPlay cleanup */\n\tvoid EndPlay(EEndPlayReason::Type EndPlayReason) override;\n\n\t// ~Begin CombatDamageable interface\n\n\t/** Handles damage and knockback events */\n\tvirtual void ApplyDamage(float Damage, AActor* DamageCauser, const FVector& DamageLocation, const FVector& DamageImpulse) override;\n\n\t/** Handles death events */\n\tvirtual void HandleDeath() override;\n\n\t/** Handles healing events */\n\tvirtual void ApplyHealing(float Healing, AActor* Healer) override;\n\n\t// ~End CombatDamageable interface\n};\n"}