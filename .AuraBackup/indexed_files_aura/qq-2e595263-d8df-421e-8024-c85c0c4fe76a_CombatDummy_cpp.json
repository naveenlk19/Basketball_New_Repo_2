{"file_path": "Source/BasketBallGame/Variant_Combat/Gameplay/CombatDummy.cpp", "file_id": "Source_BasketBallGame_Variant_Combat_Gameplay_CombatDummy_cpp", "asset_path": "", "doc_id": "qq-2e595263-d8df-421e-8024-c85c0c4fe76a", "referencers": [], "dependencies": [], "content": "// Copyright Epic Games, Inc. All Rights Reserved.\n\n\n#include \"CombatDummy.h\"\n#include \"Components/SceneComponent.h\"\n#include \"Components/StaticMeshComponent.h\"\n#include \"PhysicsEngine/PhysicsConstraintComponent.h\"\n\nACombatDummy::ACombatDummy()\n{\n \tPrimaryActorTick.bCanEverTick = true;\n\n\t// create the root\n\tRoot = CreateDefaultSubobject<USceneComponent>(TEXT(\"Root\"));\n\tSetRootComponent(Root);\n\n\t// create the base plate\n\tBasePlate = CreateDefaultSubobject<UStaticMeshComponent>(TEXT(\"Base Plate\"));\n\tBasePlate->SetupAttachment(RootComponent);\n\n\t// create the dummy\n\tDummy = CreateDefaultSubobject<UStaticMeshComponent>(TEXT(\"Dummy\"));\n\tDummy->SetupAttachment(RootComponent);\n\n\tDummy->SetSimulatePhysics(true);\n\n\t// create the physics constraint\n\tPhysicsConstraint = CreateDefaultSubobject<UPhysicsConstraintComponent>(TEXT(\"Physics Constraint\"));\n\tPhysicsConstraint->SetupAttachment(RootComponent);\n\n\tPhysicsConstraint->SetConstrainedComponents(BasePlate, NAME_None, Dummy, NAME_None);\n}\n\nvoid ACombatDummy::ApplyDamage(float Damage, AActor* DamageCauser, const FVector& DamageLocation, const FVector& DamageImpulse)\n{\n\t// apply impulse to the dummy\n\tDummy->AddImpulseAtLocation(DamageImpulse, DamageLocation);\n\n\t// call the BP handler\n\tBP_OnDummyDamaged(DamageLocation, DamageImpulse.GetSafeNormal());\n}\n\nvoid ACombatDummy::HandleDeath()\n{\n\t// unused\n}\n\nvoid ACombatDummy::ApplyHealing(float Healing, AActor* Healer)\n{\n\t// unused\n}"}