{"file_path": "Source/BasketBallGame/Variant_Combat/Gameplay/CombatLavaFloor.cpp", "file_id": "Source_BasketBallGame_Variant_Combat_Gameplay_CombatLavaFloor_cpp", "asset_path": "", "doc_id": "qq-56491904-9c0f-4331-ba54-5d44fe88eab7", "referencers": [], "dependencies": [], "content": "// Copyright Epic Games, Inc. All Rights Reserved.\n\n\n#include \"CombatLavaFloor.h\"\n#include \"CombatDamageable.h\"\n#include \"Components/StaticMeshComponent.h\"\n\nACombatLavaFloor::ACombatLavaFloor()\n{\n\tPrimaryActorTick.bCanEverTick = false;\n\n\t// create the mesh\n\tRootComponent = Mesh = CreateDefaultSubobject<UStaticMeshComponent>(TEXT(\"Mesh\"));\n\n\t// bind the hit handler\n\tMesh->OnComponentHit.AddDynamic(this, &ACombatLavaFloor::OnFloorHit);\n}\n\nvoid ACombatLavaFloor::OnFloorHit(UPrimitiveComponent* HitComponent, AActor* OtherActor, UPrimitiveComponent* OtherComp, FVector NormalImpulse, const FHitResult& Hit)\n{\n\t// check if the hit actor is damageable by casting to the interface\n\tif (ICombatDamageable* Damageable = Cast<ICombatDamageable>(OtherActor))\n\t{\n\t\t// damage the actor\n\t\tDamageable->ApplyDamage(Damage, this, Hit.ImpactPoint, FVector::ZeroVector);\n\t}\n}\n"}