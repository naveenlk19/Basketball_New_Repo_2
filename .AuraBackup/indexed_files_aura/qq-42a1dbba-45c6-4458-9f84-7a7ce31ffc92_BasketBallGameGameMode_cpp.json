{"file_path": "Source/BasketBallGame/BasketBallGameGameMode.cpp", "file_id": "Source_BasketBallGame_BasketBallGameGameMode_cpp", "asset_path": "", "doc_id": "qq-42a1dbba-45c6-4458-9f84-7a7ce31ffc92", "referencers": [], "dependencies": [], "content": "\ufeff#include \"BasketBallGameGameMode.h\"\n#include \"BasketballMatchComponent.h\"\n#include \"BasketBallGamePlayerController.h\"\n\nABasketBallGameGameMode::ABasketBallGameGameMode()\n{\n\tMatchComponent = CreateDefaultSubobject<UBasketballMatchComponent>(TEXT(\"MatchComponent\"));\n}\n\nvoid ABasketBallGameGameMode::BeginPlay()\n{\n\tSuper::BeginPlay();\n\n\tUE_LOG(LogTemp, Warning, TEXT(\"GameMode: BeginPlay\"));\n}\n\n// ========================\n// Authority Wrappers\n// ========================\n\nvoid ABasketBallGameGameMode::RegisterShotAttempt()\n{\n\tif (!MatchComponent) return;\n\n\tMatchComponent->RegisterShotAttempt();\n\n\tUE_LOG(LogTemp, Warning, TEXT(\"GameMode: Shot Attempt\"));\n}\n\nvoid ABasketBallGameGameMode::RegisterShotSuccess(int32 PointValue)\n{\n\tif (!MatchComponent) return;\n\n\tMatchComponent->RegisterShotSuccess(PointValue);\n\n\tUE_LOG(LogTemp, Warning, TEXT(\"GameMode: Shot Success | Points: %d\"), PointValue);\n\t// \ud83d\udd25 UI trigger lives here\n\t/*if (APlayerController* PC = GetWorld()->GetFirstPlayerController())\n\t{\n\t\tif (ABasketBallGamePlayerController* MyPC = Cast<ABasketBallGamePlayerController>(PC))\n\t\t{\n\t\t\tMyPC->UpdateHUD();\n\t\t}\n\t}*/\n}\n\nvoid ABasketBallGameGameMode::RegisterShotMiss()\n{\n\tif (!MatchComponent) return;\n\n\tMatchComponent->RegisterShotMiss();\n\n\tUE_LOG(LogTemp, Warning, TEXT(\"GameMode: Shot Miss\"));\n}\n\n// ========================\n// Read-Only Access (UI)\n// ========================\n\nint32 ABasketBallGameGameMode::GetCurrentScore() const\n{\n\treturn MatchComponent ? MatchComponent->GetPoints() : 0;\n}\n\nint32 ABasketBallGameGameMode::GetTotalAttempts() const\n{\n\treturn MatchComponent ? MatchComponent->GetTotalAttempts() : 0;\n}\n\nint32 ABasketBallGameGameMode::GetSuccessfulShots() const\n{\n\treturn MatchComponent ? MatchComponent->GetSuccessfulShots() : 0;\n}\n\nfloat ABasketBallGameGameMode::GetEfficiency() const\n{\n\treturn MatchComponent ? MatchComponent->CalculateEfficiency() : 0.f;\n}\n\nint32 ABasketBallGameGameMode::GetFinalScore() const\n{\n\treturn MatchComponent ? MatchComponent->CalculateFinalScore() : 0;\n}\n\nint32 ABasketBallGameGameMode::GetXP() const\n{\n\treturn MatchComponent ? MatchComponent->CalculateXP() : 0;\n}\n\nUBasketballMatchComponent* ABasketBallGameGameMode::GetMatchComponent() const\n{\n\treturn MatchComponent;\n}"}