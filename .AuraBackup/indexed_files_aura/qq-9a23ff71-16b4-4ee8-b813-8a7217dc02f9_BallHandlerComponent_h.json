{"file_path": "Source/BasketBallGame/BallHandlerComponent.h", "file_id": "Source_BasketBallGame_BallHandlerComponent_h", "asset_path": "", "doc_id": "qq-9a23ff71-16b4-4ee8-b813-8a7217dc02f9", "referencers": [], "dependencies": [], "content": "// Copyright Epic Games, Inc. All Rights Reserved.\n\n#pragma once\n\n#include \"CoreMinimal.h\"\n#include \"Components/ActorComponent.h\"\n#include \"BallHandlerComponent.generated.h\"\n\nclass ABasketball;\n\n/**\n * Component that manages basketball possession for a character\n * Handles picking up, holding, and dropping the ball\n * Structured for future replication (multiplayer-ready)\n */\nUCLASS(ClassGroup=(Custom), meta=(BlueprintSpawnableComponent))\nclass BASKETBALLGAME_API UBallHandlerComponent : public UActorComponent\n{\n\tGENERATED_BODY()\n\npublic:\t\n\t/** Constructor */\n\tUBallHandlerComponent();\n\n\t/** Called when the game starts */\n\tvirtual void BeginPlay() override;\n\n\t/** Socket name where ball attaches (usually on hand) */\n\tUPROPERTY(EditAnywhere, BlueprintReadWrite, Category = \"Ball Handling\")\n\tFName BallSocketName;\n\n\t/** Maximum distance to detect balls for pickup */\n\tUPROPERTY(EditAnywhere, BlueprintReadWrite, Category = \"Ball Handling\")\n\tfloat PickupRange;\n\n\t/** Maximum shot power (velocity in cm/s) */\n\tUPROPERTY(EditAnywhere, BlueprintReadWrite, Category = \"Shooting\")\n\tfloat MaxShotPower;\n\n\t/** Time to charge from 0% to 100% power */\n\tUPROPERTY(EditAnywhere, BlueprintReadWrite, Category = \"Shooting\")\n\tfloat ChargeTime;\n\n\t/** Current shot charge (0.0 to 1.0) */\n\tUPROPERTY(BlueprintReadOnly, Category = \"Shooting\")\n\tfloat CurrentCharge;\n\n\t/** Reference to currently held ball (null if no ball) */\n\tUPROPERTY(BlueprintReadOnly, Category = \"Ball Handling\")\n\tABasketball* CurrentBall;\n\n\t/** Is this character currently holding a ball? */\n\tUFUNCTION(BlueprintPure, Category = \"Ball Handling\")\n\tbool HasBall() const { return CurrentBall != nullptr; }\n\n\t/** Attempt to pick up nearby ball */\n\tUFUNCTION(BlueprintCallable, Category = \"Ball Handling\")\n\tbool TryPickupBall();\n\n\t/** Drop the currently held ball */\n\tUFUNCTION(BlueprintCallable, Category = \"Ball Handling\")\n\tvoid DropBall();\n\n\t/** Start charging shot (called on button press) */\n\tUFUNCTION(BlueprintCallable, Category = \"Shooting\")\n\tvoid StartCharging();\n\n\t/** Shoot ball with charged power (called on button release) */\n\tUFUNCTION(BlueprintCallable, Category = \"Shooting\")\n\tvoid ShootBall();\n\n\t/** Get current charge percentage (0-100) */\n\tUFUNCTION(BlueprintPure, Category = \"Shooting\")\n\tfloat GetChargePercent() const { return CurrentCharge * 100.0f; }\n\n\t/** Find nearest basketball within pickup range */\n\tUFUNCTION(BlueprintCallable, Category = \"Ball Handling\")\n\tABasketball* FindNearestBall();\n\n\t/** Manually set ball reference (useful for spawning with ball) */\n\tUFUNCTION(BlueprintCallable, Category = \"Ball Handling\")\n\tvoid SetBall(ABasketball* Ball);\n\nprivate:\n\t/** Time when charging started */\n\tfloat ChargeStartTime;\n\n\t/** Is currently charging a shot? */\n\tbool bIsCharging;\n};\n"}