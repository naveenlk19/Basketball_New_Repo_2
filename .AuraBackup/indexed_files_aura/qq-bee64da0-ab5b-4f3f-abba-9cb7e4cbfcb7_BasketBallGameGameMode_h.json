{"file_path": "Source/BasketBallGame/BasketBallGameGameMode.h", "file_id": "Source_BasketBallGame_BasketBallGameGameMode_h", "asset_path": "", "doc_id": "qq-bee64da0-ab5b-4f3f-abba-9cb7e4cbfcb7", "referencers": [], "dependencies": [], "content": "#pragma once\n\n#include \"CoreMinimal.h\"\n#include \"GameFramework/GameModeBase.h\"\n#include \"BasketballGlobalTypes.h\"\n#include \"BasketBallGameGameMode.generated.h\"\n\nclass UBasketballMatchComponent;\n\n/**\n * Basketball GameMode\n *\n * Authority layer.\n * - Owns MatchComponent\n * - Receives calls from Hoop/BallHandler\n * - Exposes read-only access for UI\n */\nUCLASS()\nclass BASKETBALLGAME_API ABasketBallGameGameMode : public AGameModeBase\n{\n\tGENERATED_BODY()\n\npublic:\n\n\tABasketBallGameGameMode();\n\n\tvirtual void BeginPlay() override;\n\n\t// ========================\n\t// Authority Wrappers\n\t// ========================\n\n\tUFUNCTION(BlueprintCallable, Category = \"Basketball|Scoring\")\n\tvoid RegisterShotAttempt();\n\n\tUFUNCTION(BlueprintCallable, Category = \"Basketball|Scoring\")\n\tvoid RegisterShotSuccess(int32 PointValue);\n\n\tUFUNCTION(BlueprintCallable, Category = \"Basketball|Scoring\")\n\tvoid RegisterShotMiss();\n\t\n\t// ========================\n\t// Snapshot System\n\t// ========================\n\t\n\t/** Get complete gameplay snapshot (forwards from MatchComponent) */\n\tUFUNCTION(BlueprintPure, Category = \"Basketball|Snapshot\")\n\tFBasketballGameSnapshot GetGameSnapshot() const;\n\t\n\tvoid RefreshAllPlayerHUDs();\n\t\n\t// ========================\n\t// Read-Only Access (UI)\n\t// ========================\n\n\tUFUNCTION(BlueprintPure, Category = \"Basketball|Scoring\")\n\tint32 GetCurrentScore() const;\n\n\tUFUNCTION(BlueprintPure, Category = \"Basketball|Scoring\")\n\tint32 GetCurrentStreak() const;\n\tUFUNCTION(BlueprintPure, Category = \"Basketball|Scoring\")\n\tint32 GetBestStreak() const;\n\n\tUFUNCTION(BlueprintPure, Category = \"Basketball|Scoring\")\n\tint32 GetTotalAttempts() const;\n\n\tUFUNCTION(BlueprintPure, Category = \"Basketball|Scoring\")\n\tint32 GetSuccessfulShots() const;\n\n\tUFUNCTION(BlueprintPure, Category = \"Basketball|Scoring\")\n\tfloat GetEfficiency() const;\n\n\tUFUNCTION(BlueprintPure, Category = \"Basketball|Scoring\")\n\tint32 GetFinalScore() const;\n\n\tUFUNCTION(BlueprintPure, Category = \"Basketball|Scoring\")\n\tint32 GetXP() const;\n\n\tUFUNCTION(BlueprintPure, Category = \"Basketball|Scoring\")\n\tUBasketballMatchComponent* GetMatchComponent() const;\n\nprivate:\n\n\t// Authority logic component\n\tUPROPERTY(VisibleAnywhere, Category = \"Components\")\n\tTObjectPtr<UBasketballMatchComponent> MatchComponent;\n};"}