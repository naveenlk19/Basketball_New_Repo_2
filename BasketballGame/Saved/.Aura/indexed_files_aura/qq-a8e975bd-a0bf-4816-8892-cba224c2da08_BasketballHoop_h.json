{"file_path": "Source/BasketBallGame/BasketballHoop.h", "file_id": "Source_BasketBallGame_BasketballHoop_h", "asset_path": "", "doc_id": "qq-a8e975bd-a0bf-4816-8892-cba224c2da08", "referencers": [], "dependencies": [], "content": "#pragma once\n\n#include \"CoreMinimal.h\"\n#include \"GameFramework/Actor.h\"\n#include \"BasketballHoop.generated.h\"\n\nclass UStaticMeshComponent;\nclass UBoxComponent;\nclass ABasketBallGameGameMode;\nclass ABasketball;\n\n/**\n * Basketball Hoop Actor\n * Validates shot sequence and forwards scoring to GameMode (authority).\n * Does NOT store scoring data locally.\n */\nUCLASS()\nclass BASKETBALLGAME_API ABasketballHoop : public AActor\n{\n\tGENERATED_BODY()\n\npublic:\n\tABasketballHoop();\n\n\tvirtual void BeginPlay() override;\n\n\t// ================= COMPONENTS =================\n\n\tUPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = \"Components\")\n\tUSceneComponent* HoopRoot;\n\n\tUPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = \"Components\")\n\tUStaticMeshComponent* Backboard;\n\n\tUPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = \"Components\")\n\tUStaticMeshComponent* Rim;\n\n\tUPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = \"Components\")\n\tUBoxComponent* TopTrigger;\n\n\tUPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = \"Components\")\n\tUBoxComponent* BottomTrigger;\n\n\t// ================= SETTINGS =================\n\n\tUPROPERTY(EditAnywhere, Category = \"Scoring\")\n\tint32 PointValue = 1;\n\n\tUPROPERTY(EditAnywhere, Category = \"Hoop\")\n\tfloat HoopHeight = 305.f;\n\nprotected:\n\n\t// ================= OVERLAPS =================\n\n\tUFUNCTION()\n\tvoid OnTopTriggerBeginOverlap(\n\t\tUPrimitiveComponent* OverlappedComponent,\n\t\tAActor* OtherActor,\n\t\tUPrimitiveComponent* OtherComp,\n\t\tint32 OtherBodyIndex,\n\t\tbool bFromSweep,\n\t\tconst FHitResult& SweepResult);\n\n\tUFUNCTION()\n\tvoid OnBottomTriggerBeginOverlap(\n\t\tUPrimitiveComponent* OverlappedComponent,\n\t\tAActor* OtherActor,\n\t\tUPrimitiveComponent* OtherComp,\n\t\tint32 OtherBodyIndex,\n\t\tbool bFromSweep,\n\t\tconst FHitResult& SweepResult);\n\n\t// ================= INTERNAL =================\n\n\tTSet<ABasketball*> BallsInTopTrigger;\n\n\tUPROPERTY()\n\tABasketBallGameGameMode* CachedGameMode;\n\n\tvoid RegisterScoreWithGameMode(ABasketball* Ball);\n\n\t// ================= FEEDBACK =================\n\n\tUFUNCTION(BlueprintImplementableEvent, Category = \"Feedback\")\n\tvoid OnShotMade();\n};"}