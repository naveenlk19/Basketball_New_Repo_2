{"file_path": "Source/BasketBallGame/Variant_SideScrolling/Gameplay/SideScrollingJumpPad.cpp", "file_id": "Source_BasketBallGame_Variant_SideScrolling_Gameplay_SideScrollingJumpPad_cpp", "asset_path": "", "doc_id": "qq-d48c2e23-a8ad-48ce-8613-38904cef8da7", "referencers": [], "dependencies": [], "content": "// Copyright Epic Games, Inc. All Rights Reserved.\n\n\n#include \"SideScrollingJumpPad.h\"\n#include \"Components/BoxComponent.h\"\n#include \"GameFramework/Character.h\"\n#include \"GameFramework/CharacterMovementComponent.h\"\n#include \"Components/SceneComponent.h\"\n\nASideScrollingJumpPad::ASideScrollingJumpPad()\n{\n\tPrimaryActorTick.bCanEverTick = false;\n\n\t// create the root comp\n\tRootComponent = CreateDefaultSubobject<USceneComponent>(TEXT(\"Root\"));\n\n\t// create the bounding box\n\tBox = CreateDefaultSubobject<UBoxComponent>(TEXT(\"Box\"));\n\tBox->SetupAttachment(RootComponent);\n\n\t// configure the bounding box\n\tBox->SetBoxExtent(FVector(115.0f, 90.0f, 20.0f), false);\n\tBox->SetRelativeLocation(FVector(0.0f, 0.0f, 16.0f));\n\n\tBox->SetCollisionObjectType(ECC_WorldDynamic);\n\tBox->SetCollisionEnabled(ECollisionEnabled::QueryOnly);\n\tBox->SetCollisionResponseToAllChannels(ECR_Ignore);\n\tBox->SetCollisionResponseToChannel(ECC_Pawn, ECR_Overlap);\n\n\t// add the overlap handler\n\tOnActorBeginOverlap.AddDynamic(this, &ASideScrollingJumpPad::BeginOverlap);\n}\n\nvoid ASideScrollingJumpPad::BeginOverlap(AActor* OverlappedActor, AActor* OtherActor)\n{\n\t// were we overlapped by a character?\n\tif (ACharacter* OverlappingCharacter = Cast<ACharacter>(OtherActor))\n\t{\n\t\t// force the character to jump\n\t\tOverlappingCharacter->Jump();\n\n\t\t// launch the character to override its vertical velocity\n\t\tFVector LaunchVelocity = FVector::UpVector * ZStrength;\n\t\tOverlappingCharacter->LaunchCharacter(LaunchVelocity, false, true);\n\t}\n}\n"}