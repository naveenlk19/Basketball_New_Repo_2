{"file_path": "Source/BasketBallGame/Variant_SideScrolling/AI/SideScrollingStateTreeUtility.h", "file_id": "Source_BasketBallGame_Variant_SideScrolling_AI_SideScrollingStateTreeUtility_h", "asset_path": "", "doc_id": "qq-aa8d1a09-4cfb-4cef-8d71-da0957caada3", "referencers": [], "dependencies": [], "content": "// Copyright Epic Games, Inc. All Rights Reserved.\n\n#pragma once\n\n#include \"CoreMinimal.h\"\n#include \"StateTreeTaskBase.h\"\n\n#include \"SideScrollingStateTreeUtility.generated.h\"\n\nclass AAIController;\n\n/**\n *  Instance data for the FStateTreeGetPlayerTask task\n */\nUSTRUCT()\nstruct FStateTreeGetPlayerInstanceData\n{\n\tGENERATED_BODY()\n\n\t/** NPC owning this task */\n\tUPROPERTY(VisibleAnywhere, Category=\"Context\")\n\tTObjectPtr<APawn> NPC;\n\n\t/** Holds the found player pawn */\n\tUPROPERTY(VisibleAnywhere, Category=\"Context\")\n\tTObjectPtr<AAIController> Controller;\n\n\t/** Holds the found player pawn */\n\tUPROPERTY(VisibleAnywhere, Category=\"Output\")\n\tTObjectPtr<APawn> TargetPlayer;\n\n\t/** Is the pawn close enough to be considered a valid target? */\n\tUPROPERTY(VisibleAnywhere, Category=\"Output\")\n\tbool bValidTarget = false;\n\n\t/** Max distance to be considered a valid target */\n\tUPROPERTY(EditAnywhere, Category=\"Parameter\", meta = (ClampMin = 0, ClampMax = 10000, Units = \"cm\"))\n\tfloat RangeMax = 1000.0f;\n};\n\n/**\n *  StateTree task to get the player-controlled character\n */\nUSTRUCT(meta=(DisplayName=\"Get Player\", Category=\"Side Scrolling\"))\nstruct FStateTreeGetPlayerTask : public FStateTreeTaskCommonBase\n{\n\tGENERATED_BODY()\n\n\t/* Ensure we're using the correct instance data struct */\n\tusing FInstanceDataType = FStateTreeGetPlayerInstanceData;\n\tvirtual const UStruct* GetInstanceDataType() const override { return FInstanceDataType::StaticStruct(); }\n\n\t/** Runs while the owning state is active */\n\tvirtual EStateTreeRunStatus Tick(FStateTreeExecutionContext& Context, const float DeltaTime) const override;\n\n#if WITH_EDITOR\n\tvirtual FText GetDescription(const FGuid& ID, FStateTreeDataView InstanceDataView, const IStateTreeBindingLookup& BindingLookup, EStateTreeNodeFormatting Formatting = EStateTreeNodeFormatting::Text) const override;\n#endif // WITH_EDITOR\n};"}